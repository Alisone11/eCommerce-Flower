"use strict";(self["webpackChunkfinalproject"]=self["webpackChunkfinalproject"]||[]).push([[127],{7127:function(t,i,s){s.r(i),s.d(i,{default:function(){return I}});var e=s(3396),o=s(9242),a=s(7139);const r={class:"container"},c={class:"my-4"},n={key:0},l=(0,e._)("h4",{class:""},"我的最愛",-1),d=(0,e._)("h4",{class:"font-mirza mb-4"},"Wish List",-1),h=[l,d],u={key:1,class:"mb-4 fs-5"},g={class:"row row-cols-2 row-cols-md-4 gx-3 gy-5 h-100"},p=["onClick"],m={class:"position-absolute bottom-0 end-0 p-1"},b=["onClick"],v=(0,e._)("i",{class:"bi bi-trash3"},null,-1),k=[v],f=["onClick"],_=(0,e._)("i",{class:"bi bi-cart"},null,-1),w=[_],C=["onClick"],y={class:"card-text fw-bold text-secondary mt-2 mb-0"};function L(t,i,s,l,d,v){const _=(0,e.up)("LoadingCom");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(_,{active:d.isLoading},null,8,["active"]),(0,e._)("div",r,[(0,e._)("section",c,[d.id.length>0?((0,e.wg)(),(0,e.iD)("div",n,h)):((0,e.wg)(),(0,e.iD)("p",u,"目前我的最愛是空的，請選擇商品加入。")),(0,e._)("div",g,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(d.product,(i=>((0,e.wg)(),(0,e.iD)("div",{class:"col h-100",key:i.id},[(0,e._)("a",{href:"javascript:;",onClick:(0,o.iM)((t=>v.getProduct(i.id)),["prevent"])},[(0,e._)("div",{style:(0,a.j5)({backgroundImage:`url(${i.imageUrl})`}),class:"product-img bg-center rounded mb-3 position-relative"},[(0,e._)("div",m,[(0,e._)("button",{class:"btn btn-sm btn-light rounded-4",onClick:(0,o.iM)((t=>v.removeWishList(i.id)),["stop"])},k,8,b),(0,e._)("button",{class:"btn btn-sm btn-light rounded-4 ms-1",onClick:(0,o.iM)((t=>v.addToCart(i)),["stop"])},w,8,f)])],4)],8,p),(0,e._)("a",{href:"javascript:;",onClick:(0,o.iM)((t=>v.getProduct(i.id)),["prevent"]),class:"h6 link-dark-h"},(0,a.zw)(i.title),9,C),(0,e._)("p",y,(0,a.zw)(t.$filters.currency(i.price)),1)])))),128))])])])],64)}s(7658);var P={data(){return{product:[],isLoading:!1,id:[]}},created(){this.getId()},methods:{getProduct(t){this.$router.push(`/user/product/${t}`)},addToCart(t){this.isLoading=!0;const i="https://vue3-course-api.hexschool.io/api/alisonhu-api/cart",s={product_id:t.id,qty:1};this.axios.post(i,{data:s}).then((t=>{this.isLoading=!1,this.PushMessageState(t,"加入購物車"),this.emitter.emit("cart-qty")}))},removeWishList(t){this.isLoading=!0,localStorage.removeItem(t),this.getId(),this.emitter.emit("wished-qty"),this.isLoading=!1},getId(){this.id=[];for(let t=0;t<localStorage.length;t++)this.id.push(localStorage.key(t));this.getWishProduct()},getWishProduct(){this.product=[],this.id.forEach((t=>{const i=JSON.parse(localStorage.getItem(t));this.product.push(i)}))}},inject:["emitter","PushMessageState"]},S=s(89);const j=(0,S.Z)(P,[["render",L]]);var I=j}}]);
//# sourceMappingURL=127.75459fb5.js.map