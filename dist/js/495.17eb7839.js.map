{"version":3,"file":"js/495.17eb7839.js","mappings":"+MAESA,MAAM,Q,SACLA,MAAM,Q,SACNA,MAAM,Q,GACLA,MAAM,0C,+BASJA,MAAM,yC,GACJA,MAAM,iB,+BAIPC,EAAAA,EAAAA,GAA+B,KAA5BD,MAAM,mBAAiB,S,6FAlBxCE,EAAAA,EAAAA,IAA6CC,EAAAA,CAAhCC,OAAQC,EAAAA,WAAS,oBAC9BJ,EAAAA,EAAAA,GAqBc,UArBdK,EAqBc,CApBeD,EAAAA,GAAGE,OAAS,IAAH,WAAhCC,EAAAA,EAAAA,IAA+C,KAA/CC,EAAsC,WAAI,WAC1CD,EAAAA,EAAAA,IAA+C,KAA/CE,EAAwB,wBACxBT,EAAAA,EAAAA,GAiBM,MAjBNU,EAiBM,gBAhBJH,EAAAA,EAAAA,IAeMI,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IAf0BP,EAAAA,SAARQ,K,WAAxBL,EAAAA,EAAAA,IAeM,OAfDR,MAAM,MAA+Bc,IAAKD,EAAKE,I,EAClDd,EAAAA,EAAAA,GAII,KAJDe,KAAK,eAAgBC,SAAK,YAAUC,EAAAA,WAAWL,EAAKE,KAAE,c,EACvDd,EAAAA,EAAAA,GAEM,OAFAkB,OAAK,UAAAC,gBAAAA,OAA4BP,EAAKQ,aAC3C,mBAAsBrB,MAAM,0B,eAG/BC,EAAAA,EAAAA,GAC8D,KAD3De,KAAK,eAAgBC,SAAK,YAAUC,EAAAA,WAAWL,EAAKE,KAAE,aACzDf,MAAM,sC,QAAuCa,EAAKS,OAAK,MACvDrB,EAAAA,EAAAA,GAAwF,IAAxFsB,GAAwF,QAApCC,EAAAA,SAASC,SAASZ,EAAKa,QAAK,IAChFzB,EAAAA,EAAAA,GAKM,MALN0B,EAKM,EAJJ1B,EAAAA,EAAAA,GACa,UADLD,MAAM,oCAAqCiB,SAAK,YAAUC,EAAAA,eAAeL,EAAKE,KAAE,cAAG,MACvF,MACJd,EAAAA,EAAAA,GAC+C,UADvCD,MAAM,yCAA0CiB,SAAK,YAAUC,EAAAA,UAAUL,IAAI,c,CACnFe,GAA+B,kBAAK,Y,2BASlD,GACEC,OACE,MAAO,CACLC,QAAS,GACTC,WAAW,EACXhB,GAAI,GAER,EACAiB,UACEC,KAAKC,OACP,EACAC,QAAS,CACPC,WAAYrB,GACVkB,KAAKI,QAAQC,KAAM,iBAAgBvB,IACrC,EACAwB,UAAW1B,GACToB,KAAKF,WAAY,EACjB,MAAMS,EAAO,6DACPC,EAAO,CAAEC,WAAY7B,EAAKE,GAAI4B,IAAK,GACzCV,KAAKW,MAAMC,KAAKL,EAAK,CAAEX,KAAMY,IAC1BK,MAAMC,IACLd,KAAKF,WAAY,EACjBE,KAAKe,iBAAiBD,EAAK,SAC3Bd,KAAKgB,QAAQC,KAAK,WAAW,GAEnC,EACAC,eAAgBtC,GACduC,aAAaC,WAAWxC,GACxBoB,KAAKC,QACLD,KAAKgB,QAAQC,KAAK,aACpB,EACAhB,QACED,KAAKlB,GAAK,GACV,IAAK,IAAIuC,EAAI,EAAGA,EAAIF,aAAa7C,OAAQ+C,IACvCrB,KAAKlB,GAAGuB,KAAKc,aAAatC,IAAIwC,IAEhCrB,KAAKsB,gBACP,EACAA,iBACEtB,KAAKH,QAAU,GACfG,KAAKlB,GAAGyC,SAAQ3C,IACd,MAAM4C,EAAcC,KAAKC,MAAMP,aAAaQ,QAAQ/C,IACpDoB,KAAKH,QAAQQ,KAAKmB,EAAY,GAElC,GAEFI,OAAQ,CAAC,UAAW,qB,QCrEtB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://finalproject/./src/views/UserWishList.vue","webpack://finalproject/./src/views/UserWishList.vue?60c0"],"sourcesContent":["<template>\n<LoadingCom :active=\"isLoading\"></LoadingCom>\n<section class=\"my-4\">\n      <h4 class=\"mb-4\" v-if=\"id.length > 0\">我的最愛</h4>\n      <h4 class=\"mb-4\" v-else>目前我的最愛是空的，請選擇商品加入！</h4>\n      <div class=\"row row-cols-2 row-cols-md-4 gx-3 gy-5\">\n        <div class=\"col\" v-for=\"item in product\" :key=\"item.id\">\n          <a href=\"javascript:;\" @click.prevent=\"getProduct(item.id)\">\n            <div :style=\"{ backgroundImage: `url(${item.imageUrl})`}\"\n             style=\"height: 300px\" class=\"bg-center rounded mb-3\">\n            </div>\n          </a>\n          <a href=\"javascript:;\" @click.prevent=\"getProduct(item.id)\"\n          class=\"h5 link-dark text-decoration-none\">{{ item.title }}</a>\n          <p class=\"card-text fw-bold text-secondary mt-2\">{{ $filters.currency(item.price) }}</p>\n          <div class=\"text-end mb-4\">\n            <button class=\"btn btn-success btn-sm link-light\" @click.prevent=\"removeWishList(item.id)\">\n              移除</button>\n            <button class=\"btn btn-primary btn-sm link-light ms-3\" @click.prevent=\"addToCart(item)\">\n              <i class=\"bi bi-cart me-1\"></i>加入購物車</button>\n          </div>\n        </div>\n      </div>\n    </section>\n</template>\n\n<script>\n\nexport default {\n  data () {\n    return {\n      product: [],\n      isLoading: false,\n      id: []\n    }\n  },\n  created () {\n    this.getId()\n  },\n  methods: {\n    getProduct (id) {\n      this.$router.push(`/user/product/${id}`)\n    },\n    addToCart (item) {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/cart`\n      const cart = { product_id: item.id, qty: 1 }\n      this.axios.post(api, { data: cart })\n        .then((res) => {\n          this.isLoading = false\n          this.PushMessageState(res, '加入購物車')\n          this.emitter.emit('cart-qty')\n        })\n    },\n    removeWishList (item) {\n      localStorage.removeItem(item)\n      this.getId()\n      this.emitter.emit('wished-qty')\n    },\n    getId () {\n      this.id = []\n      for (let i = 0; i < localStorage.length; i++) {\n        this.id.push(localStorage.key(i))\n      }\n      this.getWishProduct()\n    },\n    getWishProduct () {\n      this.product = []\n      this.id.forEach(item => {\n        const wishProduct = JSON.parse(localStorage.getItem(item))\n        this.product.push(wishProduct)\n      })\n    }\n  },\n  inject: ['emitter', 'PushMessageState']\n}\n</script>\n","import { render } from \"./UserWishList.vue?vue&type=template&id=6adec118\"\nimport script from \"./UserWishList.vue?vue&type=script&lang=js\"\nexport * from \"./UserWishList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/minahu/Documents/front-end engineer/GitHub/vue-assignment拷貝/vue-project/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createVNode","_component_LoadingCom","active","$data","_hoisted_1","length","_createElementBlock","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","item","key","id","href","onClick","$options","style","backgroundImage","imageUrl","title","_hoisted_7","_ctx","currency","price","_hoisted_8","_hoisted_11","data","product","isLoading","created","this","getId","methods","getProduct","$router","push","addToCart","api","cart","product_id","qty","axios","post","then","res","PushMessageState","emitter","emit","removeWishList","localStorage","removeItem","i","getWishProduct","forEach","wishProduct","JSON","parse","getItem","inject","__exports__","render"],"sourceRoot":""}