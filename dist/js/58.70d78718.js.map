{"version":3,"file":"js/58.70d78718.js","mappings":"4MAGaA,MAAM,Q,aAEPA,MAAM,Q,GAAiBA,MAAM,gB,GAC5BA,MAAM,0C,+BASJA,MAAM,yC,SAIXA,MAAM,Q,GAAuBA,MAAM,gB,6FAlB3CC,EAAAA,EAAAA,IAA6CC,EAAAA,CAAhCC,OAAQC,EAAAA,WAAS,oBAC9BC,EAAAA,EAAAA,GAmBO,cAlBLA,EAAAA,EAAAA,GAiBU,UAjBVC,EAiBU,CAhBGC,EAAAA,WAAWC,OAAS,IAAH,WAA5BC,EAAAA,EAAAA,IAcM,UAbJJ,EAAAA,EAAAA,GAAoF,KAApFK,EAAoF,UAAnE,SAAI,OAAmD,OAAnDC,GAAmD,QAArBJ,EAAAA,aAAW,YAAU,cACxEF,EAAAA,EAAAA,GAWM,MAXNO,EAWM,gBAVJH,EAAAA,EAAAA,IASMI,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IAT0BN,EAAAA,YAARO,K,WAAxBL,EAAAA,EAAAA,IASM,OATDT,MAAM,MAAkCe,IAAKD,EAAKE,I,EACrDX,EAAAA,EAAAA,GAII,KAJDY,KAAK,eAAgBC,SAAK,YAAUX,EAAAA,WAAWO,EAAKE,KAAE,c,EACvDX,EAAAA,EAAAA,GAEM,OAFAc,OAAK,UAAAC,gBAAAA,OAA4BN,EAAKO,aAC3C,mBAAsBrB,MAAM,0B,eAG/BK,EAAAA,EAAAA,GAC8D,KAD3DY,KAAK,eAAgBC,SAAK,YAAUX,EAAAA,WAAWO,EAAKE,KAAE,aACzDhB,MAAM,sC,QAAuCc,EAAKQ,OAAK,MACvDjB,EAAAA,EAAAA,GAAwF,IAAxFkB,GAAwF,QAApCC,EAAAA,SAASC,SAASX,EAAKY,QAAK,Q,wBAItFjB,EAAAA,EAAAA,IAA+F,KAA/FkB,EAA+F,UAAvE,QAAG,OAAmD,OAAnDC,GAAmD,QAArBrB,EAAAA,aAAW,YAAU,wBAAY,G,aAMhG,GACEsB,OACE,MAAO,CACLC,SAAU,GACVC,WAAW,EAEf,EACAC,UACEC,KAAKC,aACP,EACAC,QAAS,CACPD,cACED,KAAKF,WAAY,EACjB,MAAMK,EAAO,qEACbH,KAAKI,MAAMC,IAAIF,GAAKG,MAAMC,IACxBC,QAAQC,IAAI,cAAeF,GAC3BP,KAAKF,WAAY,EACjBE,KAAKH,SAAWU,EAAIX,KAAKC,QAAO,GAEpC,EACAa,WAAY3B,GACViB,KAAKW,QAAQC,KAAM,iBAAgB7B,IACrC,GAEF8B,SAAU,CACRC,cACE,OAAOd,KAAKe,OAAOC,MAAMC,CAC3B,EACAC,aACE,MAAMC,EAAQ,IAAIC,OAAOpB,KAAKc,YAAa,MAC3C,OAAOd,KAAKH,SAASwB,QAAQxC,GAASA,EAAKQ,MAAMiC,MAAMH,IACzD,GAEFI,MAAO,CACLT,YAAaU,EAAMC,GACG,IAAhBA,EAAKlD,QAAgBkD,IAASD,GAClCxB,KAAKW,QAAQe,GAAG,EAClB,I,QCzDJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://finalproject/./src/views/UserSearch.vue","webpack://finalproject/./src/views/UserSearch.vue?f436"],"sourcesContent":["<template>\n  <LoadingCom :active=\"isLoading\"></LoadingCom>\n  <main>\n    <section class=\"my-4\">\n      <div v-if=\"searchData.length > 0\">\n        <h4 class=\"mb-4\">以下是 <span class=\"text-primary\">{{ searchInput }}</span> 的搜尋結果：</h4>\n        <div class=\"row row-cols-2 row-cols-md-4 gx-3 gy-5\">\n          <div class=\"col\" v-for=\"item in searchData\" :key=\"item.id\">\n            <a href=\"javascript:;\" @click.prevent=\"getProduct(item.id)\">\n              <div :style=\"{ backgroundImage: `url(${item.imageUrl})`}\"\n               style=\"height: 350px\" class=\"bg-center rounded mb-3\">\n              </div>\n            </a>\n            <a href=\"javascript:;\" @click.prevent=\"getProduct(item.id)\"\n            class=\"h5 link-dark text-decoration-none\">{{ item.title }}</a>\n            <p class=\"card-text fw-bold text-secondary mt-2\">{{ $filters.currency(item.price) }}</p>\n          </div>\n        </div>\n      </div>\n      <h4 class=\"mb-4\" v-else>查無 <span class=\"text-primary\">{{ searchInput }}</span> 相關產品，請重新搜尋。</h4>\n    </section>\n  </main>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      products: [],\n      isLoading: false\n    }\n  },\n  created () {\n    this.getProducts()\n  },\n  methods: {\n    getProducts () {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/products/all`\n      this.axios.get(api).then((res) => {\n        console.log('getProducts', res)\n        this.isLoading = false\n        this.products = res.data.products\n      })\n    },\n    getProduct (id) {\n      this.$router.push(`/user/product/${id}`)\n    }\n  },\n  computed: {\n    searchInput () {\n      return this.$route.query.q\n    },\n    searchData () {\n      const regex = new RegExp(this.searchInput, 'gi')\n      return this.products.filter((item) => item.title.match(regex))\n    }\n  },\n  watch: {\n    searchInput (nVal, oVal) {\n      if (oVal.length === 0 || oVal === nVal) return\n      this.$router.go(0)\n    }\n  }\n}\n</script>\n","import { render } from \"./UserSearch.vue?vue&type=template&id=764eb151\"\nimport script from \"./UserSearch.vue?vue&type=script&lang=js\"\nexport * from \"./UserSearch.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/minahu/Documents/front-end engineer/GitHub/vue-assignment/finalproject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createVNode","_component_LoadingCom","active","$data","_createElementVNode","_hoisted_1","$options","length","_createElementBlock","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","item","key","id","href","onClick","style","backgroundImage","imageUrl","title","_hoisted_8","_ctx","currency","price","_hoisted_9","_hoisted_10","data","products","isLoading","created","this","getProducts","methods","api","axios","get","then","res","console","log","getProduct","$router","push","computed","searchInput","$route","query","q","searchData","regex","RegExp","filter","match","watch","nVal","oVal","go","__exports__","render"],"sourceRoot":""}