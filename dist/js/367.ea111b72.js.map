{"version":3,"file":"js/367.ea111b72.js","mappings":"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","sources":["webpack://finalproject/./src/views/UserProduct.vue","webpack://finalproject/./src/views/UserProduct.vue?c4ac"],"sourcesContent":["<template>\n  <LoadingCom :active=\"isLoading\"></LoadingCom>\n  <nav aria-label=\"breadcrumb\">\n  <ol class=\"breadcrumb\">\n    <li class=\"breadcrumb-item\"><router-link to=\"/user/cart\">購物車</router-link></li>\n    <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ product.title }}</li>\n  </ol>\n</nav>\n <div class=\"card mx-auto\" style=\"max-width: 60rem;\">\n  <div class=\"row g-0\">\n    <div class=\"col-md-7\">\n      <img :src=\"product.imageUrl\" class=\"img-fluid rounded-start\" alt=\"...\">\n    </div>\n    <div class=\"col-md-5\">\n      <div class=\"card-body d-flex flex-column justify-content-between h-100\">\n        <div>\n          <h4 class=\"card-title my-4\">{{ product.title }}</h4>\n          <h5 class=\"d-inline me-2 text-secondary\">售價： {{ $filters.currency(product.price) }}</h5>\n          <span><small>（原價： {{ $filters.currency(product.origin_price) }}）</small></span>\n          <p class=\"card-text mt-4\">{{ product.description }}</p>\n          <div class=\"mt-3\" v-if=\"product.category === 'flowers'\">\n            <hr>\n            <p>乾燥花是鮮花經由風乾處理而製成，永生花是鮮花浸泡在脫色藥水中，再染色後製成。</p>\n            <p>花材皆採用當季花材，若市場短缺，將更換等價花材使用。</p>\n            <p>適用於生日禮物、畢業典禮、婚禮、情人節等慶祝場合，也可居家佈置。</p>\n            <p>配送方式｜宅配 / 自取 </p>\n            <p>保存期限｜約為1-2年，良好保存下可達數年</p>\n            <p>注意事項｜請置於陰涼乾燥的通風處，勿陽光直射</p>\n          </div>\n        </div>\n        <div class=\"mt-3\" v-if=\"product.category === 'plants'\">\n            <hr>\n            <p>植物有助於室內空氣之淨化，綠色可放鬆緊繃的雙眼，讓環境更美觀。</p>\n            <p>每株植物生長不同，照片僅供參考，實品會有些微誤差。</p>\n            <p>適用於生日禮物、開幕送禮、辦公或居家佈置。</p>\n            <p>配送方式｜宅配 / 自取 </p>\n            <p>注意事項｜室內植物對陽光需求不太高，請避免陽光直射</p>\n          </div>\n        <div class=\"text-end mb-4\">\n          <button class=\"btn btn-outline-danger m-1\" @click.prevent=\"addToWishList\" :disabled=\"loadingItem === productId\">\n            <i class=\"bi me-1\" :class=\"heart\"></i>{{ isWished ? '已加入我的最愛':'加入我的最愛' }}</button>\n          <button class=\"btn btn-primary link-light ms-2 m-1\" @click.prevent=\"addToCart\" :disabled=\"loadingItem === productId\">\n            <i class=\"bi bi-cart me-1\"></i>加入購物車</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      product: {},\n      isLoading: false,\n      loadingItem: '',\n      isWished: false\n    }\n  },\n  props: ['productId'],\n  created () {\n    this.getProduct()\n    if (localStorage.getItem(this.productId)) {\n      this.isWished = true\n    }\n  },\n  methods: {\n    getProduct () {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/product/${this.productId}`\n      this.axios.get(api).then((res) => {\n        console.log('getProduct', res)\n        this.isLoading = false\n        this.product = res.data.product\n      })\n    },\n    addToCart () {\n      this.loadingItem = this.productId\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/cart`\n      const cart = { product_id: this.productId, qty: 1 }\n      this.axios.post(api, { data: cart })\n        .then((res) => {\n          console.log('addToCart', res)\n          this.loadingItem = ''\n          this.isLoading = false\n          this.PushMessageState(res, '加入購物車')\n          this.emitter.emit('cart-qty')\n        })\n    },\n    addToWishList () {\n      if (this.isWished) {\n        localStorage.removeItem(this.productId)\n        this.emitter.emit('wished-qty')\n      } else {\n        localStorage.setItem(this.productId, JSON.stringify(this.product))\n        this.emitter.emit('wished-qty')\n      }\n      this.isWished = !this.isWished\n      // localStorage.clear()\n    }\n  },\n  computed: {\n    heart () {\n      return this.isWished ? 'bi-heart-fill' : 'bi-heart'\n    }\n  },\n  inject: ['emitter', 'PushMessageState']\n}\n</script>\n","import { render } from \"./UserProduct.vue?vue&type=template&id=1837e929\"\nimport script from \"./UserProduct.vue?vue&type=script&lang=js\"\nexport * from \"./UserProduct.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/minahu/Documents/front-end engineer/GitHub/vue-assignment/finalproject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_createVNode","_component_LoadingCom","active","$data","_hoisted_1","_hoisted_2","_hoisted_3","_component_router_link","to","_hoisted_4","title","_hoisted_5","_hoisted_6","_hoisted_7","src","imageUrl","alt","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_ctx","currency","price","origin_price","_hoisted_13","description","category","_createElementBlock","_hoisted_14","_hoisted_23","_hoisted_31","onClick","$options","disabled","$props","_hoisted_34","data","product","isLoading","loadingItem","isWished","props","created","this","getProduct","localStorage","getItem","productId","methods","api","axios","get","then","res","console","log","addToCart","cart","product_id","qty","post","PushMessageState","emitter","emit","addToWishList","removeItem","setItem","JSON","stringify","computed","heart","inject","__exports__","render"],"sourceRoot":""}